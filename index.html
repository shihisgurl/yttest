<script>
  const API_KEY = "AIzaSyB4o53RhnV7lpGy-rGhAggwwJoZUZ99Of4";
  const CHANNEL_ID = "UCkYRS5LQbm_0RjxKD8oHXJw";
  const MAX_RESULTS = 12;

  async function loadVideos() {
    const url = `https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=${MAX_RESULTS}`;

    try {
      const res = await fetch(url);
      const data = await res.json();
      const videoContainer = document.getElementById("videos");
      videoContainer.innerHTML = "";

      if (!data.items || data.items.length === 0) {
        videoContainer.innerHTML = "<p>No videos found.</p>";
        return;
      }

      data.items.forEach(item => {
        if (item.id.kind === "youtube#video") {
          const videoId = item.id.videoId;
          const iframe = document.createElement("iframe");
          iframe.src = `https://www.youtube.com/embed/${videoId}`;
          iframe.allowFullscreen = true;
          videoContainer.appendChild(iframe);
        }
      });
    } catch (error) {
      console.error("Error fetching videos:", error);
      document.getElementById("videos").innerHTML = `<p style="color: red;">Failed to load videos. See console for details.</p>`;
    }
  }

  loadVideos();
</script>
